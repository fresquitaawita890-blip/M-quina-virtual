name: Roblox_VM_Final_Final
on: workflow_dispatch
jobs:
  build:
    runs-on: windows-latest
    steps:
      - name: Forzar_Apertura
        run: |
          # 1. Matar cualquier proceso viejo
          taskkill /f /im AnyDesk.exe /t || info
          
          # 2. Abrir el Firewall por completo
          netsh advfirewall set allprofiles state off
          
          # 3. Descargar y ejecutar sin instalar (Modo Port√°til)
          Invoke-WebRequest -Uri "https://download.anydesk.com/AnyDesk.exe" -OutFile "AnyDesk.exe"
          Start-Process -FilePath ".\AnyDesk.exe" -ArgumentList "--set-password RobloxVM2026"
          
      - name: Obtener_ID
        run: |
          Start-Sleep -Seconds 20
          $id = ./AnyDesk.exe --get-id
          echo "TU_ID_ES: $id"
          
      - name: Mantener_Viva
        run: Start-Sleep -Seconds 21600
        
